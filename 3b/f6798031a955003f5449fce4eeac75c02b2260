---------------------------------------------------------------------------

by carsonbot at 2021-02-11T14:46:58Z

Hey!

I see that this is your first PR. That is great! Welcome!

Symfony has a [contribution guide](https://symfony.com/doc/current/contributing/index.html) which I suggest you to read.

In short:
- Always add tests
- Keep backward compatibility (see https://symfony.com/bc).
- Bug fixes must be submitted against the lowest maintained branch where they apply (see https://symfony.com/releases)
- Features and deprecations must be submitted against the 5.x branch.

Review the GitHub status checks of your pull request and try to solve the reported issues. If some tests are failing, try to see if they are failing because of this change.

When two Symfony core team members approve this change, it will be merged and you will become an official Symfony contributor!
If this PR is merged in a lower version branch, it will be merged up to all maintained branches within a few days.

I am going to sit back now and wait for the reviews.

Cheers!

Carsonbot

---------------------------------------------------------------------------

by roromix at 2021-02-11T15:06:22Z

Travis CI 7.2 and 8.0 OK, i don't understand  why 7.4 failed ;)

Thanks in advance for review ;)

---------------------------------------------------------------------------

by wouterj at 2021-02-16T10:54:29Z

Hi!

I think we should make this more generic and instead add a `$requestParameters` argument that allows passing any arbitrary request parameter. This would be helpful to e.g. configure ` _target_path` to be redirected to (or anything else you want).

Btw, this interface is still experimental, so I think we can allow this BC break by adding a new argument. This should however be documented as such in the `CHANGELOG.md` file in `src/Symfony/Component/Security` (and in `UPGRADE-5.3.md` in the root of the project).

Do you agree & are you able to make these changes in this PR? :)

status: needs work

---------------------------------------------------------------------------

by roromix at 2021-02-18T10:53:19Z

> Hi!
>
> I think we should make this more generic and instead add a `$requestParameters` argument that allows passing any arbitrary request parameter. This would be helpful to e.g. configure ` _target_path` to be redirected to (or anything else you want).
>
> Btw, this interface is still experimental, so I think we can allow this BC break by adding a new argument. This should however be documented as such in the `CHANGELOG.md` file in `src/Symfony/Component/Security` (and in `UPGRADE-5.3.md` in the root of the project).
>
> Do you agree & are you able to make these changes in this PR? :)
>
> status: needs work

@wouterj : If @fabpot and others core members are ok with your proposal, i'm ok to make changes in this PR.

---------------------------------------------------------------------------

by chalasr at 2021-03-21T15:34:12Z

I would prefer `Request $request = null` over an arbitrary array here.
ðŸ‘ for changing the interface with a changelog entry, that's what `@experimental` is for.

---------------------------------------------------------------------------

by OskarStark at 2021-03-21T16:13:09Z

I agree with Robin ðŸ‘ŒðŸ»

---------------------------------------------------------------------------

by fabpot at 2021-03-23T09:50:18Z

@roromix To fix the tests, you must update the SecurityBundle composer.json to require symfony/security-http 5.3 as a minimum.

---------------------------------------------------------------------------

by roromix at 2021-03-23T09:52:01Z

> @roromix To fix the tests, you must update the SecurityBundle composer.json to require symfony/security-http 5.3 as a minimum.

@fabpot Thanks for your help. I will update this asap.

---------------------------------------------------------------------------

by roromix at 2021-03-23T10:18:39Z

> @roromix To fix the tests, you must update the SecurityBundle composer.json to require symfony/security-http 5.3 as a minimum.

Sorry @fabpot , but 5.3 is already as a minimum :
`"symfony/security-http": "^5.3"`

Maybe i haven't understand your message.

---------------------------------------------------------------------------

by fabpot at 2021-03-23T10:27:50Z

Perfect then (tests will be fixed after merging).
